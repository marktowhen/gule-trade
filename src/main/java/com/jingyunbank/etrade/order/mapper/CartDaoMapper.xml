<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jingyunbank.etrade.order.dao.CartDao">
	<resultMap type="com.jingyunbank.etrade.order.entity.CartEntity" id="CartEntityResultMap">
		<id column="id" property="ID" javaType="String"/>
		<result column="uid" property="UID" javaType="String"/>
		<result column="addtime" property="addtime" javaType="java.util.Date"/>
		<result column="gid" property="GID" javaType="String"/>
		<result column="price" property="price" jdbcType="DECIMAL"/>
		<result column="count" property="count" jdbcType="INT"/>
	</resultMap>
	<sql id="cart_columns">
		id, uid, gid, addtime, price, count
	</sql>
	<select id="selectByUID" parameterType="String" resultMap="CartEntityResultMap">
		select <include refid="cart_columns"/> from cart where uid = #{uid}
	</select>
	<select id="selectRange" resultMap="CartEntityResultMap">
		select <include refid="cart_columns"/>
		from cart
		where
			uid = #{uid}
		limit #{offset}, #{size}
	</select>
	<insert id="insert" parameterType="com.jingyunbank.etrade.order.entity.CartEntity">
		insert into cart
			(<include refid="cart_columns"/>)
		values
			(#{ID}, #{UID}, #{GID}, #{addtime}, #{price}, #{count})
	</insert>
	<update id="update" parameterType="com.jingyunbank.etrade.order.entity.CartEntity">
		update cart
		<set>
			count = #{count}, price = #{price}
		</set>
		where id = #{id}
	</update>
	<delete id="delete" parameterType="String">
		delete from cart where id = #{id}
	</delete>
</mapper>
